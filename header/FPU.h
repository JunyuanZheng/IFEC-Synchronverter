//###########################################################################
//  This software is licensed for use with Texas Instruments C28x
//  family DSCs.  This license was provided to you prior to installing
//  the software.  You may review this license by consulting a copy of
//  the agreement in the doc directory of this library.
// ------------------------------------------------------------------------
//          Copyright (C) 2010 Texas Instruments, Incorporated.
//                          All Rights Reserved.
// ==========================================================================
//
// FILE:   FPU.h
//
// TITLE:  Prototypes and Definitions for the C28x FPU Library
//
//###########################################################################
// $TI Release: C28x Floating Point Unit Library V1.30 $
// $Release Date: January 04, 2012 $
//###########################################################################

#ifndef C28X_FPU_LIB_H
#define C28X_FPU_LIB_H


#ifdef __cplusplus
extern "C" {
#endif

//-----------------------------------------------------------------------------
// Standard C28x Data Types
//-----------------------------------------------------------------------------


#ifndef DSP28_DATA_TYPES
#define DSP28_DATA_TYPES
typedef int                 int16;
typedef long                int32;
typedef long long           int64;
typedef unsigned int        Uint16;
typedef unsigned long       Uint32;
typedef unsigned long long  Uint64;
typedef float               float32;
typedef long double         float64;
#endif

#define NULL    0

//-----------------------------------------------------------------------------
//Define the structure of the FIRFILT_GEN Filter Module
//-----------------------------------------------------------------------------
typedef struct { 
    float *coeff_ptr;        /* Pointer to Filter coefficient */
    float *dbuffer_ptr;      /* Delay buffer ptr              */
    int	cbindex;			 /* Circular Buffer Index         */
    int order;               /* Order of the Filter           */
    float input;             /* Latest Input sample           */ 
    float output;            /* Filter Output                 */
    void (*init)(void *);    /* Ptr to Init funtion           */
    void (*calc)(void *);    /* Ptr to calc fn                */  
    }FIR_FP;

typedef FIR_FP 	*FIR_FP_handle; 							//Define a Handles for the Filter Modules

#define FIR_FP_DEFAULTS { (float *)NULL, \
             (float *)NULL,  \
             0,              \
             50,             \
             0,				 \
             0,				 \
             (void (*)(void *))FIR_FP_init,\
             (void (*)(void *))FIR_FP_calc}    

extern void FIR_FP_calc(void *);
extern void FIR_FP_init(void *);

extern void FIR_FP_calc_c(FIR_FP *);
extern void FIR_FP_init_c(FIR_FP *);

/*********** Sample FIR Co-efficients **************************/
/* 127th order LPF co-efficients for FIR_FP module	*/	
#define FIR_FP_LPF128 {\
		   0.003590012202, 0.003716687672, 0.003845604369, 0.003976694308, 0.004109884612,\
		   0.004245096352, 0.004382244311, 0.004521237686, 0.004661981482, 0.004804372787,\
		   0.004948304035,    0.005093663, 0.005240330473, 0.005388183054, 0.005537091289,\
		   0.005686921068, 0.005837533157, 0.005988783669, 0.006140524521, 0.006292602513,\
		   0.006444861181, 0.006597138476,  0.00674927095, 0.006901090033, 0.007052424829,\
		    0.00720310118, 0.007352943532, 0.007501772605, 0.007649408188, 0.007795668673,\
		   0.007940370589, 0.008083330467, 0.008224365301, 0.008363288827, 0.008499918506,\
		   0.008634070866, 0.008765565231, 0.008894219995, 0.009019858204, 0.009142302908,\
		   0.009261380881, 0.009376923554, 0.009488764219, 0.009596739896,  0.00970069319,\
		   0.009800470434, 0.009895924479, 0.009986910969,  0.01007329486,  0.01015494484,\
		    0.01023173612,  0.01030355226,  0.01037028246,  0.01043182425,  0.01048808172,\
		    0.01053896733,  0.01058440283,  0.01062431652,  0.01065864507,  0.01068733539,\
		    0.01071034279,  0.01072762907,  0.01073916908,  0.01074494328,  0.01074494328,\
		    0.01073916908,  0.01072762907,  0.01071034279,  0.01068733539,  0.01065864507,\
		    0.01062431652,  0.01058440283,  0.01053896733,  0.01048808172,  0.01043182425,\
		    0.01037028246,  0.01030355226,  0.01023173612,  0.01015494484,  0.01007329486,\
		   0.009986910969, 0.009895924479, 0.009800470434,  0.00970069319, 0.009596739896,\
		   0.009488764219, 0.009376923554, 0.009261380881, 0.009142302908, 0.009019858204,\
		   0.008894219995, 0.008765565231, 0.008634070866, 0.008499918506, 0.008363288827,\
		   0.008224365301, 0.008083330467, 0.007940370589, 0.007795668673, 0.007649408188,\
		   0.007501772605, 0.007352943532,  0.00720310118, 0.007052424829, 0.006901090033,\
		    0.00674927095, 0.006597138476, 0.006444861181, 0.006292602513, 0.006140524521,\
		   0.005988783669, 0.005837533157, 0.005686921068, 0.005537091289, 0.005388183054,\
		   0.005240330473,    0.005093663, 0.004948304035, 0.004804372787, 0.004661981482,\
		   0.004521237686, 0.004382244311, 0.004245096352, 0.004109884612, 0.003976694308,\
		   0.003845604369, 0.003716687672, 0.003590012202}
//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------

#ifdef __cplusplus
}
#endif /* extern "C" */

#endif   // - end of C28X_FPU_LIB_H

//===========================================================================
// End of file.
//===========================================================================

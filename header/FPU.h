//###########################################################################
//  This software is licensed for use with Texas Instruments C28x
//  family DSCs.  This license was provided to you prior to installing
//  the software.  You may review this license by consulting a copy of
//  the agreement in the doc directory of this library.
// ------------------------------------------------------------------------
//          Copyright (C) 2010 Texas Instruments, Incorporated.
//                          All Rights Reserved.
// ==========================================================================
//
// FILE:   FPU.h
//
// TITLE:  Prototypes and Definitions for the C28x FPU Library
//
//###########################################################################
// $TI Release: C28x Floating Point Unit Library V1.30 $
// $Release Date: January 04, 2012 $
//###########################################################################

#ifndef C28X_FPU_LIB_H
#define C28X_FPU_LIB_H


#ifdef __cplusplus
extern "C" {
#endif

//-----------------------------------------------------------------------------
// Standard C28x Data Types
//-----------------------------------------------------------------------------


#ifndef DSP28_DATA_TYPES
#define DSP28_DATA_TYPES
typedef int                 int16;
typedef long                int32;
typedef long long           int64;
typedef unsigned int        Uint16;
typedef unsigned long       Uint32;
typedef unsigned long long  Uint64;
typedef float               float32;
typedef long double         float64;
#endif

#define NULL    0

//-----------------------------------------------------------------------------
//Define the structure of the FIRFILT_GEN Filter Module
//-----------------------------------------------------------------------------
typedef struct { 
    float *coeff_ptr;        /* Pointer to Filter coefficient */
    float *dbuffer_ptr;      /* Delay buffer ptr              */
    int	cbindex;			 /* Circular Buffer Index         */
    int order;               /* Order of the Filter           */
    float input;             /* Latest Input sample           */ 
    float output;            /* Filter Output                 */
    void (*init)(void *);    /* Ptr to Init funtion           */
    void (*calc)(void *);    /* Ptr to calc fn                */  
    }FIR_FP;

typedef FIR_FP 	*FIR_FP_handle; 							//Define a Handles for the Filter Modules

#define FIR_FP_DEFAULTS { (float *)NULL, \
             (float *)NULL,  \
             0,              \
             50,             \
             0,				 \
             0,				 \
             (void (*)(void *))FIR_FP_init,\
             (void (*)(void *))FIR_FP_calc}    

extern void FIR_FP_calc(void *);
extern void FIR_FP_init(void *);

extern void FIR_FP_calc_c(FIR_FP *);
extern void FIR_FP_init_c(FIR_FP *);

/*********** Sample FIR Co-efficients **************************/
/* 127th order LPF co-efficients for FIR_FP module	*/	
#define FIR_FP_LPF128 {\
           0.003590012202, 0.003716687672, 0.003845604369, 0.003976694308, 0.004109884612,\
           0.004245096352, 0.004382244311, 0.004521237686, 0.004661981482, 0.004804372787,\
           0.004948304035,    0.005093663, 0.005240330473, 0.005388183054, 0.005537091289,\
           0.005686921068, 0.005837533157, 0.005988783669, 0.006140524521, 0.006292602513,\
           0.006444861181, 0.006597138476,  0.00674927095, 0.006901090033, 0.007052424829,\
            0.00720310118, 0.007352943532, 0.007501772605, 0.007649408188, 0.007795668673,\
           0.007940370589, 0.008083330467, 0.008224365301, 0.008363288827, 0.008499918506,\
           0.008634070866, 0.008765565231, 0.008894219995, 0.009019858204, 0.009142302908,\
           0.009261380881, 0.009376923554, 0.009488764219, 0.009596739896,  0.00970069319,\
           0.009800470434, 0.009895924479, 0.009986910969,  0.01007329486,  0.01015494484,\
            0.01023173612,  0.01030355226,  0.01037028246,  0.01043182425,  0.01048808172,\
            0.01053896733,  0.01058440283,  0.01062431652,  0.01065864507,  0.01068733539,\
            0.01071034279,  0.01072762907,  0.01073916908,  0.01074494328,  0.01074494328,\
            0.01073916908,  0.01072762907,  0.01071034279,  0.01068733539,  0.01065864507,\
            0.01062431652,  0.01058440283,  0.01053896733,  0.01048808172,  0.01043182425,\
            0.01037028246,  0.01030355226,  0.01023173612,  0.01015494484,  0.01007329486,\
           0.009986910969, 0.009895924479, 0.009800470434,  0.00970069319, 0.009596739896,\
           0.009488764219, 0.009376923554, 0.009261380881, 0.009142302908, 0.009019858204,\
           0.008894219995, 0.008765565231, 0.008634070866, 0.008499918506, 0.008363288827,\
           0.008224365301, 0.008083330467, 0.007940370589, 0.007795668673, 0.007649408188,\
           0.007501772605, 0.007352943532,  0.00720310118, 0.007052424829, 0.006901090033,\
            0.00674927095, 0.006597138476, 0.006444861181, 0.006292602513, 0.006140524521,\
           0.005988783669, 0.005837533157, 0.005686921068, 0.005537091289, 0.005388183054,\
           0.005240330473,    0.005093663, 0.004948304035, 0.004804372787, 0.004661981482,\
           0.004521237686, 0.004382244311, 0.004245096352, 0.004109884612, 0.003976694308,\
           0.003845604369, 0.003716687672, 0.003590012202}

#define FIR_FP_LPF200 {\
		  0.004991358612, 0.004991618916, 0.004991876893, 0.004992132075, 0.004992384464,\
		   0.004992634524,  0.00499288179, 0.004993126262, 0.004993368406, 0.004993607756,\
		   0.004993844312, 0.004994078539, 0.004994309973, 0.004994539078,  0.00499476539,\
		   0.004994988907, 0.004995210096, 0.004995428491, 0.004995644093, 0.004995857365,\
		   0.004996067844, 0.004996275995, 0.004996480886, 0.004996683914, 0.004996883683,\
		   0.004997081123,  0.00499727577, 0.004997468088, 0.004997657612, 0.004997844342,\
		   0.004998028744, 0.004998210352, 0.004998389166, 0.004998565651, 0.004998739343,\
		   0.004998910706,  0.00499907881, 0.004999244586, 0.004999408033, 0.004999568686,\
		   0.004999726545, 0.004999882076, 0.005000034813, 0.005000184756, 0.005000331905,\
		   0.005000476725, 0.005000619218,  0.00500075845, 0.005000895821, 0.005001029931,\
		   0.005001161713, 0.005001290701, 0.005001416896, 0.005001540761, 0.005001661833,\
		   0.005001780577, 0.005001896061, 0.005002009682, 0.005002120044, 0.005002228078,\
		   0.005002333317, 0.005002436228, 0.005002536345, 0.005002633668, 0.005002728663,\
		   0.005002820399, 0.005002910271, 0.005002996884, 0.005003081169, 0.005003163125,\
		   0.005003241822, 0.005003318191, 0.005003392231, 0.005003463477, 0.005003531929,\
		   0.005003597587, 0.005003660917, 0.005003721453, 0.005003779195, 0.005003834609,\
		   0.005003887229,  0.00500393752, 0.005003985018, 0.005004029721, 0.005004071631,\
		   0.005004111212, 0.005004147999, 0.005004182458, 0.005004214123, 0.005004242994,\
		   0.005004269071,  0.00500429282,  0.00500431424, 0.005004332401, 0.005004348233,\
		   0.005004361272, 0.005004371982, 0.005004379898, 0.005004385021, 0.005004387815,\
		   0.005004387815, 0.005004385021, 0.005004379898, 0.005004371982, 0.005004361272,\
		   0.005004348233, 0.005004332401,  0.00500431424,  0.00500429282, 0.005004269071,\
		   0.005004242994, 0.005004214123, 0.005004182458, 0.005004147999, 0.005004111212,\
		   0.005004071631, 0.005004029721, 0.005003985018,  0.00500393752, 0.005003887229,\
		   0.005003834609, 0.005003779195, 0.005003721453, 0.005003660917, 0.005003597587,\
		   0.005003531929, 0.005003463477, 0.005003392231, 0.005003318191, 0.005003241822,\
		   0.005003163125, 0.005003081169, 0.005002996884, 0.005002910271, 0.005002820399,\
		   0.005002728663, 0.005002633668, 0.005002536345, 0.005002436228, 0.005002333317,\
		   0.005002228078, 0.005002120044, 0.005002009682, 0.005001896061, 0.005001780577,\
		   0.005001661833, 0.005001540761, 0.005001416896, 0.005001290701, 0.005001161713,\
		   0.005001029931, 0.005000895821,  0.00500075845, 0.005000619218, 0.005000476725,\
		   0.005000331905, 0.005000184756, 0.005000034813, 0.004999882076, 0.004999726545,\
		   0.004999568686, 0.004999408033, 0.004999244586,  0.00499907881, 0.004998910706,\
		   0.004998739343, 0.004998565651, 0.004998389166, 0.004998210352, 0.004998028744,\
		   0.004997844342, 0.004997657612, 0.004997468088,  0.00499727577, 0.004997081123,\
		   0.004996883683, 0.004996683914, 0.004996480886, 0.004996275995, 0.004996067844,\
		   0.004995857365, 0.004995644093, 0.004995428491, 0.004995210096, 0.004994988907,\
		    0.00499476539, 0.004994539078, 0.004994309973, 0.004994078539, 0.004993844312,\
		   0.004993607756, 0.004993368406, 0.004993126262,  0.00499288179, 0.004992634524,\
		   0.004992384464, 0.004992132075, 0.004991876893, 0.004991618916, 0.004991358612\
}
//-----------------------------------------------------------------------------
//
//-----------------------------------------------------------------------------

#ifdef __cplusplus
}
#endif /* extern "C" */

#endif   // - end of C28X_FPU_LIB_H

//===========================================================================
// End of file.
//===========================================================================
